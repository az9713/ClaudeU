# CLAUDE.md - ClaudeU Project Guide

This file provides essential context for Claude Code when working with this project.

## Project Overview

**ClaudeU** is a Claude Code output-style framework that enables users to build their own **personalized AI university** - with unlimited tutors for any subject, each teaching in whatever style works best for them.

**Primary Purpose**: Enable users to create and combine tutors for ANY topic (Python, cooking, chess, languages, etc.) with ANY teaching method (Socratic, ELI5, challenge-first, etc.) to build a growing library of personalized AI educators.

**Key Insight**: The included tutors (Python, Git, Stock Indicators) are examples. Users can create tutors for literally anything they want to learn, and combine them with teaching methods to match how they learn best.

## Tutor Types

This project uses a **type system** to categorize tutors:

| Type | Description | Examples |
|------|-------------|----------|
| `method` | Defines HOW to teach (pedagogy) | socratic, eli5, rubber-duck, minimalist, challenge-first |
| `topic` | Defines WHAT to teach (domain) | python-tutor, git-tutor, stock-indicators-tutor |
| `combined` | Generated by `/tutor combine` | socratic-python-tutor, eli5-git-tutor |

### Available Teaching Methods
- **socratic** - Teaches through guiding questions only, never direct answers
- **rubber-duck** - Makes users explain their thinking step-by-step before offering insight
- **eli5** - Explains like you're 5; no jargon, simple analogies
- **challenge-first** - Poses puzzles before explaining concepts
- **minimalist** - Ultra-concise responses under 50 words

### Available Topic Tutors
- **python-tutor** - Python for complete beginners (flagship tutor)
- **git-tutor** - Git with visual diagrams and mental models
- **stock-indicators-tutor** - Fundamental and technical analysis indicators

## Quick Commands

```bash
# Install dependencies
uv sync                    # Preferred method (uses uv package manager)
pip install -r requirements.txt  # Alternative method

# Start Jupyter Lab to work with notebooks
jupyter lab
```

### Tutor Commands (in Claude Code)
```bash
# Activate a tutor
/output-style python-tutor
/output-style socratic
/output-style eli5-git-tutor

# Use the /tutor command
/tutor list                           # Show all available tutors
/tutor describe socratic              # Learn about a specific tutor
/tutor combine socratic python-tutor  # Create a combined tutor
/tutor create music-tutor             # Create a new tutor interactively
/tutor activate socratic              # Get activation instructions
```

## Project Structure

```
python-tutor/
├── .claude/
│   ├── output-styles/
│   │   ├── python-tutor.md           # Topic: Python for beginners
│   │   ├── git-tutor.md              # Topic: Git with visual diagrams
│   │   ├── stock-indicators-tutor.md # Topic: Financial indicators
│   │   ├── socratic.md               # Method: Guiding questions only
│   │   ├── rubber-duck.md            # Method: User explains first
│   │   ├── eli5.md                   # Method: Simple analogies
│   │   ├── challenge-first.md        # Method: Puzzle before explanation
│   │   └── minimalist.md             # Method: <50 word responses
│   └── commands/
│       └── tutor.md                  # The /tutor command definition
├── tutor/
│   ├── notebooks/             # Hands-on practice notebooks (created by tutor)
│   │   └── html-and-beautifulsoup.ipynb
│   └── reference/             # Quick reference cheatsheets (created by tutor)
│       └── beautifulsoup-cheatsheet.md
├── docs/
│   ├── QUICK_START.md         # 5-minute setup + 12 use cases
│   ├── USER_GUIDE.md          # Complete user documentation
│   ├── DEVELOPER_GUIDE.md     # For extending the project
│   ├── TECHNICAL_ARCHITECTURE.md # System design specs
│   ├── TUTOR_COMMAND.md       # /tutor command reference
│   ├── TROUBLESHOOTING.md     # Common problems and solutions
│   └── WHY_OUTPUT_STYLES.md   # Why output styles vs ad-hoc prompting
├── example.ipynb              # Example job scraper for learning
├── pyproject.toml             # Project configuration (Python 3.13+)
├── .python-version            # Python version specification
└── uv.lock                    # Locked dependencies
```

## Architecture Overview

### Output Style System
- **Location**: `.claude/output-styles/`
- **Purpose**: Defines Claude's pedagogical behavior through tutor files
- **Key Constraint**: Topic tutors teach only, no implementation code

### Tutor Type System

Every tutor file has a `type` field in its YAML frontmatter:

```yaml
---
name: socratic
type: method           # method | topic | combined
description: Teaches through guiding questions
keep-coding-instructions: false  # Methods set this to work for any topic
---
```

- **method**: Defines teaching approach (HOW). General-purpose, topic-agnostic.
- **topic**: Defines subject domain (WHAT). Has domain-specific constraints and artifacts.
- **combined**: Generated when combining method + topic via `/tutor combine`.

### The /tutor Command
- **Location**: `.claude/commands/tutor.md`
- **Subcommands**: list, describe, combine, create, activate, delete
- **Performance**: `/tutor list` uses filename inference only (no file reads) for speed
- **Naming Normalization**: Combined tutors use METHOD-TOPIC order (e.g., `socratic-python-tutor`)

### Six Core Teaching Behaviors (Topic Tutors)
1. **Explain Code** - One-sentence summaries with key steps and concepts
2. **Explain Concepts** - Plain English definitions with real-world analogies
3. **Translate Errors** - Error messages in plain English with investigation guidance
4. **Guide Modifications** - Describe what to change conceptually (no implementation)
5. **Explain Project Flow** - Map file connections and execution paths
6. **Check Code Quality** - Flag AI-generated code quirks and overcomplicated patterns

### Learning Artifacts
- **Notebooks** (`tutor/notebooks/`): Hands-on practice with progressive complexity
- **Cheatsheets** (`tutor/reference/`): Quick references based on user's actual code

## Code Conventions

### Python Style
- Python 3.13+ required
- Use type hints for function signatures
- Follow PEP 8 naming conventions
- Notebooks use clear, educational variable names

### Notebook Structure (when creating teaching notebooks)
1. Simplest possible example with output
2. Break down what happened
3. Experiment prompt (modify and rerun)
4. Build up one element
5. Connect to user's actual code
6. Practice exercise with solution

### Cheatsheet Structure
- Focus on patterns actually used in the project
- Include file and line number references
- Minimal examples (2-5 lines)
- Common mistakes section

## Dependencies

Core dependencies (from `pyproject.toml`):
- `ipykernel>=7.1.0` - Jupyter kernel for Python
- `jupyterlab>=4.5.1` - Interactive notebook environment

Example notebook additional dependencies:
- `requests` - HTTP requests for web scraping
- `beautifulsoup4` - HTML parsing
- `pandas` - Data manipulation
- `lxml` or `html.parser` - HTML parser backend

## Key Files to Understand

### `.claude/output-styles/python-tutor.md`
The flagship topic tutor. Defines:
- `type: topic` in frontmatter
- Target user profile (complete beginner)
- Core teaching behaviors (6 behaviors)
- Decision flow for different user requests
- Artifact creation guidelines
- Principles (do's and don'ts)

### `.claude/output-styles/socratic.md` (and other method files)
Teaching method tutors. Each defines:
- `type: method` in frontmatter
- `keep-coding-instructions: false` (topic-agnostic)
- Core constraint (e.g., "only guiding questions")
- Example interaction pattern
- Boundary tests

### `.claude/commands/tutor.md`
The unified `/tutor` command. Handles:
- Listing all tutors by type
- Describing individual tutors
- Combining method + topic tutors
- Creating new tutors interactively
- Filename normalization (METHOD-TOPIC order)
- Validation and warnings

### `example.ipynb`
A complete, working job scraper that:
1. Fetches job listings from aijobs.ai
2. Extracts job data (title, company, salary, location, description)
3. Handles JSON-LD structured data with DOM fallbacks
4. Saves results to CSV

This serves as the primary learning example for students.

## Testing

No automated tests exist yet. Manual testing involves:
1. Starting Claude Code in the project directory
2. Verifying `/output-style python-tutor` activates the tutor
3. Testing each core behavior with sample requests
4. Checking that notebooks run without errors in Jupyter Lab

## Common Tasks

### Adding a New Teaching Notebook
1. Create file in `tutor/notebooks/[concept].ipynb`
2. Follow the 6-step notebook structure
3. Include runnable sample data
4. Add experiment prompts for students

### Adding a New Cheatsheet
1. Create file in `tutor/reference/[name].md`
2. Scan codebase for relevant patterns
3. Include line number references
4. Add common mistakes section

### Modifying Tutor Behavior
1. Edit `.claude/output-styles/[tutor-name].md`
2. Test changes with various user prompts
3. Ensure consistency with teaching-only constraint

### Creating a New Method Tutor
1. Use `/tutor create` for interactive creation, OR
2. Create `.claude/output-styles/[method-name].md` manually
3. Required frontmatter fields:
   ```yaml
   ---
   name: your-method
   type: method
   description: Brief description
   keep-coding-instructions: false
   ---
   ```
4. Include: Core constraint, response pattern, example interaction, boundary test

### Creating a New Topic Tutor
1. Use `/tutor create` for interactive creation, OR
2. Create `.claude/output-styles/[topic-name]-tutor.md` manually
3. Required frontmatter fields:
   ```yaml
   ---
   name: your-topic-tutor
   type: topic
   description: Brief description
   ---
   ```
4. Include: Target user, core behaviors, artifact locations, principles

### Combining Tutors
1. Run `/tutor combine [method] [topic]`
2. Example: `/tutor combine socratic python-tutor`
3. Creates `socratic-python-tutor.md` (METHOD-TOPIC order)
4. Activate with `/output-style socratic-python-tutor`

## Important Constraints

1. **No Implementation Code**: Topic tutors describe changes but don't write production code
2. **Beginner-First Language**: Avoid jargon without explanation
3. **Reference Actual Code**: Always point to specific files and line numbers
4. **Progressive Complexity**: Start simpler than feels necessary
5. **Type System**: All tutor files must have a `type` field (method, topic, or combined)
6. **Method Tutors**: Must set `keep-coding-instructions: false` to be topic-agnostic
7. **Naming Convention**: All lowercase with hyphens. Topic tutors **must** end with `-tutor` (e.g., `python-tutor`) for correct type inference by `/tutor list`

## Troubleshooting

### Common Issues
- **Tutor style not activating**: Ensure `.claude/settings.local.json` exists with `{"outputStyle": "python-tutor"}`
- **Exiting tutor mode**: Run `/output-style Default` to return to normal Claude behavior
- **Newly created tutor not in list**: Restart Claude Code (`exit` then `claude`) - tutors are cached at startup
- **Notebooks won't run**: Check that `uv sync` or `pip install` completed successfully
- **Missing dependencies**: Run `pip install requests beautifulsoup4 pandas` for example notebook
- **/tutor command not found**: Verify `.claude/commands/tutor.md` exists
- **Tutor not listed**: Check that tutor file has valid YAML frontmatter with `type` field
- **Combined tutor not working**: Regenerate with `/tutor combine` or check source tutors individually
- **Method tutor is coding-specific**: Add `keep-coding-instructions: false` to frontmatter

### Debug Commands
```bash
# Check Python version
python --version

# Verify Jupyter installation
jupyter --version

# List installed packages
pip list

# List all tutor files (in bash)
ls -la .claude/output-styles/

# Check tutor frontmatter (in bash)
head -10 .claude/output-styles/python-tutor.md
```

### Quick Reference: /tutor Subcommands
| Command | Purpose |
|---------|---------|
| `/tutor list` | Show all tutors by type |
| `/tutor describe <name>` | Show tutor details |
| `/tutor combine <A> <B>` | Create combined tutor |
| `/tutor create <name>` | Create new tutor interactively |
| `/tutor activate <name>` | Get activation instructions |
| `/tutor delete <name>` | Delete tutor (with confirmation) |

See `docs/TROUBLESHOOTING.md` for comprehensive troubleshooting.
